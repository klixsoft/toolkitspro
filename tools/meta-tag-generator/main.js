$(document).ready(function(){function generate_meta_tag(){const form=$(document).find(".meta_tag_generator_submit_form");let metatags='';let facebooktags='<meta property="og:type" content="website">\n';let twittertags='<meta name="twitter:card" content="summary_large_image" />\n';const websiteurl=form.find("input[name=websiteurl]").val();if(websiteurl&&websiteurl.length>0){facebooktags+=`<meta name="og:url"content="${websiteurl}">\n`;twittertags+=`<meta name="twitter:url"content="${websiteurl}">\n`}let title=form.find("input[name=title]").val();title=title.replace(/\s+/img," ").trim();if(title&&title.length>0){metatags+=`<title>${title}</title>\n`;metatags+=`<meta name="title"content="${title}">\n`;twittertags+=`<meta name="twitter:title"content="${title}">\n`;facebooktags+=`<meta name="og:title"content="${title}">\n`}let description=form.find("textarea[name=description]").val();description=description.replace(/\s+/img," ").trim();if(description&&description.length>0){metatags+=`<meta name="description"content="${description}">\n`;facebooktags+=`<meta name="og:description"content="${description}">\n`;twittertags+=`<meta name="twitter:description"content="${description}">\n`}const image=form.find("input[name=image]").val();if(image&&image.length>0){facebooktags+=`<meta name="og:image"content="${image}">\n`;twittertags+=`<meta name="twitter:image"content="${image}">\n`}const robots=form.find("input[name=robots]").val();if(robots&&robots.length>0){metatags+=`<meta name="robots"content="${robots}">\n`}const contenttype=form.find("input[name=contenttype]").val();if(contenttype&&contenttype.length>0){metatags+=`<meta http-equiv="Content-Type"content="${contenttype}">\n`}const language=form.find("input[name=language]").val();if(language&&language.length>0){metatags+=`<meta name="language"content="${language}">\n`}$(document).find("#meta_tag_generator_result").val(`<!--Primary Tags-->\n${metatags}\n\n<!--Open Graph/Facebook-->\n${facebooktags}\n\n<!--Twitter-->\n${twittertags}`)}$(document).on("change keypress paste",".meta_tag_generator_submit_form input, .meta_tag_generator_submit_form textarea",function(){generate_meta_tag()});$(document).on("change",".meta_tag_generator_submit_form select",function(){generate_meta_tag()});$(document).on("click",".meta_tag_generator_copy",function(){const val=$(document).find("#meta_tag_generator_result").val();$(document.body).trigger("clear_message");if(val&&val.length>0){copy_text(val);$(this).addClass("active");setTimeout(()=>{$(this).removeClass("active")},1000)}else{$(document.body).trigger("has_message",{type:"danger",messages:["Meta Tags is empty. Generate some meta tags by filling details!!!"]})}});function clean_url_for_meta(url=""){if(url.length>0){url=window.location.href}return url.replace(/(^\w+:|^)\/\//,'')}function clean_url_for_google(url=""){url=clean_url_for_meta(url);url=url.replace(/\/$/,"");url=url.replace(/\//g," › ");return url+' <span class="caret">▼</span>'}function get_domain_from_url(url){try{return(new URL(url)).hostname.replace('www.','')}catch(error){return window.location.hostname}}function set_progress_bar(ele,value="0",exceed=0){try{if(ele&&ele.length>0){if(parseInt(value)>exceed){ele.addClass("bg-danger").removeClass("bg-success")}else{ele.addClass("bg-success").removeClass("bg-danger")}let per=Math.round((parseInt(value)/exceed)*100);if(isNaN(per)){per=0}else if(per>100){per=100}ele.attr("aria-valuenow",per);ele.css({width:`${per}%`});ele.text(`${value}Characters`)}}catch(error){}}$(document).on("change keypress paste keydown keyup",".meta_tag_generator_submit_form input[name=title]",function(){let val=$(this).val();val=val.replace(/\s+/img," ").trim();const google=$(document).find(".search-result-google h3");const facebook=$(document).find(".search-result-facebook .facebook__title");const twitter=$(document).find(".search-result-twitter .twitter__title");if(val&&val.length>0){google.text(val);facebook.text(val);twitter.text(val);set_progress_bar($(this).closest(".form-group").find(".progress-bar"),val.length,60)}else{google.text(document.title);facebook.text(document.title);twitter.text(document.title);set_progress_bar($(this).closest(".form-group").find(".progress-bar"),"0")}});$(document).on("change keypress paste keydown keyup",".meta_tag_generator_submit_form input[name=image]",function(){const image=$(this).val();const facebook=$(document).find(".search-result-facebook img");const twitter=$(document).find(".search-result-twitter img");if(image&&image.length>0){facebook.attr("src",image);twitter.attr("src",image)}else{facebook.attr("src","https://via.placeholder.com/1500x780");twitter.attr("src","https://via.placeholder.com/1500x780")}});$(document).on("change keypress paste keydown keyup",".meta_tag_generator_submit_form input[name=websiteurl]",function(){let url=$(this).val();url=url.replace(/(^\w+:|^)\/\//,'');url=url.replace(/\/$/,"›");const google=$(document).find(".search-result-google .cite");const facebook=$(document).find(".search-result-facebook .facebook__domain");const twitter=$(document).find(".search-result-twitter .twitter__domain");facebook.html(get_domain_from_url(url));twitter.html(get_domain_from_url(url));google.html(clean_url_for_google((url&&url.length>0?url:window.location.href)))});$(document).on("change keypress paste keydown keyup",".meta_tag_generator_submit_form textarea[name=description]",function(){let description=$(this).val();description=description.replace(/\s+/img," ").trim();const google=$(document).find(".search-result-google .result-text");const facebook=$(document).find(".search-result-facebook .facebook__description");const twitter=$(document).find(".search-result-twitter .twitter__description");if(description&&description.length>0){set_progress_bar($(this).closest(".form-group").find(".progress-bar"),description.length,160);facebook.html(description);twitter.html(description);if(description.length>160){description=description.substring(0,160)+"..."}google.html(description)}else{const defaulttext="With Meta Tags you can edit and experiment with your content then preview how your webpage will look on Google, Facebook, Twitter and more!";google.html(defaulttext);facebook.html(defaulttext);twitter.html(defaulttext);set_progress_bar($(this).closest(".form-group").find(".progress-bar"),"0")}})});